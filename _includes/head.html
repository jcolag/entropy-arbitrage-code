<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="fediverse:creator" content="@jcolag@mastodon.social">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="{{ page.thumbnail }}">
  {%- for tag in page.tags -%}
    <meta property="og:article:tag" content="{{ tag }}">
  {%- endfor -%}
  {%- seo -%}
  <link rel="preload" as="font" href="/blog/assets/Exo2-Light.ttf" type="font/ttf" crossorigin="anonymous">
  <link rel="preload" as="font" href="/blog/assets/Vollkorn-Bold.ttf" type="font/ttf" crossorigin="anonymous">
  <link rel="preload" as="font" href="/blog/assets/NotoColorEmoji.ttf" type="font/ttf" crossorigin="anonymous">
  <link rel="stylesheet" href="{{ "/assets/main.css" | relative_url }}">
  <link rel="stylesheet" href="/blog/assets/prism.css">
  <link rel="shortcut icon" href="/blog/assets/jc.ico">
  <link rel="authorization_endpoint" href="https://john.colagioia.net/selfauth/">
  {%- feed_meta -%}
  {%- if jekyll.environment == 'production' and site.google_analytics -%}
    {%- include google-analytics.html -%}
  {%- endif -%}
  <noscript>
    <style>
    .js-require {
      display: none;
    }
    </style>
  </noscript>
  <script async src="/blog/assets/prism.js"></script>
  <script async src="/blog/assets/redirect.js"></script>
  <script>
    let anchors = null;
    let links = null;
    window.addEventListener('load', (e) => {
      anchors = document.querySelectorAll('h1, h2, h3, h4, h5, h6');
      links = document.querySelectorAll('#markdown-toc li > a');

      Array.from(document.getElementsByClassName('sensitive')).forEach((i) => {
        i.addEventListener('click', handleImageClick);
      });
    });
    function handleImageClick(e) {
      const cs = e.target.classList;
      if (cs.contains('sensitive')) {
        cs.remove('sensitive');
      } else {
        cs.add('sensitive');
      }
    }
    window.addEventListener('scroll', (event) => {
      if (anchors && links) {
        let scrollTop = window.scrollY;

        links.forEach((link, index) => {
          link.classList.remove("toc-active");
        });

        // Moving backwards, hightlight the first match and break
        for (var i = links.length; i >= 0; i--) {
          if (scrollTop > anchors[i].offsetTop - window.screen.height / 3 && i > 0) {
            links[i - 1].classList.add('toc-active');
            break;
          }
        }
      }
    });
  </script>
  <!-- Matomo -->
  <script>
    var _paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    /* _paq.push(['requireConsent']); */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="//colagioia.net/pa/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '15']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <!-- End Matomo Code -->
  {%- webmentions_head -%}
</head>
